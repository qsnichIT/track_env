--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: buildings; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE buildings (
    id integer NOT NULL,
    name character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


ALTER TABLE public.buildings OWNER TO postgres;

--
-- Name: buildings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE buildings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.buildings_id_seq OWNER TO postgres;

--
-- Name: buildings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE buildings_id_seq OWNED BY buildings.id;


--
-- Name: buildings_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('buildings_id_seq', 2, true);


--
-- Name: comment_projects; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE comment_projects (
    id integer NOT NULL,
    project_id integer,
    comment text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    user_id integer
);


ALTER TABLE public.comment_projects OWNER TO postgres;

--
-- Name: comment_projects_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE comment_projects_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.comment_projects_id_seq OWNER TO postgres;

--
-- Name: comment_projects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE comment_projects_id_seq OWNED BY comment_projects.id;


--
-- Name: comment_projects_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('comment_projects_id_seq', 54, true);


--
-- Name: comment_subprojects; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE comment_subprojects (
    id integer NOT NULL,
    subproject_id integer,
    comment text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    user_id integer
);


ALTER TABLE public.comment_subprojects OWNER TO postgres;

--
-- Name: comment_subprojects_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE comment_subprojects_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.comment_subprojects_id_seq OWNER TO postgres;

--
-- Name: comment_subprojects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE comment_subprojects_id_seq OWNED BY comment_subprojects.id;


--
-- Name: comment_subprojects_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('comment_subprojects_id_seq', 54, true);


--
-- Name: projects; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE projects (
    id integer NOT NULL,
    project_name character varying(255),
    start_date date,
    end_date date,
    secret character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    user_id integer,
    detail text
);


ALTER TABLE public.projects OWNER TO postgres;

--
-- Name: projects_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE projects_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.projects_id_seq OWNER TO postgres;

--
-- Name: projects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE projects_id_seq OWNED BY projects.id;


--
-- Name: projects_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('projects_id_seq', 28, true);


--
-- Name: schema_migrations; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE schema_migrations (
    version character varying(255) NOT NULL
);


ALTER TABLE public.schema_migrations OWNER TO postgres;

--
-- Name: subprojects; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE subprojects (
    id integer NOT NULL,
    project_id integer,
    subname character varying(255),
    start_date date,
    end_date date,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    status character varying(255),
    user_id integer,
    detail text,
    building_id integer
);


ALTER TABLE public.subprojects OWNER TO postgres;

--
-- Name: subprojects_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE subprojects_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.subprojects_id_seq OWNER TO postgres;

--
-- Name: subprojects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE subprojects_id_seq OWNED BY subprojects.id;


--
-- Name: subprojects_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('subprojects_id_seq', 48, true);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE users (
    id integer NOT NULL,
    username character varying(255),
    email character varying(255),
    password_hash character varying(255),
    password_salt character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    fname character varying(255),
    lname character varying(255),
    admin character varying(255),
    building_id integer
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('users_id_seq', 5, true);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE buildings ALTER COLUMN id SET DEFAULT nextval('buildings_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE comment_projects ALTER COLUMN id SET DEFAULT nextval('comment_projects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE comment_subprojects ALTER COLUMN id SET DEFAULT nextval('comment_subprojects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE projects ALTER COLUMN id SET DEFAULT nextval('projects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE subprojects ALTER COLUMN id SET DEFAULT nextval('subprojects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Data for Name: buildings; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY buildings (id, name, created_at, updated_at) FROM stdin;
1	werwer	2012-02-15 04:10:56.071359	2012-02-15 04:10:56.071359
2	ewrwer	2012-02-15 04:16:12.222733	2012-02-15 04:16:12.222733
\.


--
-- Data for Name: comment_projects; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY comment_projects (id, project_id, comment, created_at, updated_at, user_id) FROM stdin;
49	25	สร้างโครงการ ระบบไฟฟ้า โดย - -	2012-01-19 02:23:23.977903	2012-01-19 02:23:23.977903	1
\.


--
-- Data for Name: comment_subprojects; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY comment_subprojects (id, subproject_id, comment, created_at, updated_at, user_id) FROM stdin;
34	35	สร้างโครงการ ระบบไฟฟ้า โดย - -	2012-01-19 02:26:08.396637	2012-01-19 02:26:08.396637	1
35	36	สร้างโครงการ ระบบไฟฟ้า (1 ปี) โดย - -	2012-01-19 02:28:04.960543	2012-01-19 02:28:04.960543	1
36	35	แก้ไขโครงการโดย - -	2012-01-19 02:28:24.06177	2012-01-19 02:28:24.06177	1
42	40	สร้างโครงการ เครื่องกำเนิดไฟฟ้าสำรองฉุกเฉิน (ทุกสัปดาห์) โดย - -	2012-01-20 01:23:04.44477	2012-01-20 01:23:04.44477	1
43	41	สร้างโครงการ เครื่องกำเนิดไฟฟ้าสำรองฉุกเฉิน  (ทุก 1 ปี) โดย - -	2012-01-20 01:24:04.018616	2012-01-20 01:24:04.018616	1
44	40	แก้ไขโครงการโดย - -	2012-01-20 01:24:24.045061	2012-01-20 01:24:24.045061	1
45	40	แก้ไขโครงการโดย - -	2012-01-20 01:25:30.129396	2012-01-20 01:25:30.129396	1
46	40	แก้ไขโครงการโดย - -	2012-01-20 01:25:48.179407	2012-01-20 01:25:48.179407	1
47	41	แก้ไขโครงการโดย - -	2012-01-20 01:25:54.793166	2012-01-20 01:25:54.793166	1
48	42	สร้างโครงการ ระบบไฟฟ้าแสงสว่างฉุกเฉิน (ทุก 3 เดือน) โดย - -	2012-01-20 01:27:38.742006	2012-01-20 01:27:38.742006	1
49	43	สร้างโครงการ ระบบไฟฟ้าแสงสว่างฉุกเฉิน (ทุก 6 เดือน) โดย - -	2012-01-20 01:28:55.0611	2012-01-20 01:28:55.0611	1
50	44	สร้างโครงการ ระบบไฟฟ้าสำรอง UPS (ทุกสัปดาห์) โดย - -	2012-01-20 01:31:03.706615	2012-01-20 01:31:03.706615	1
\.


--
-- Data for Name: projects; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY projects (id, project_name, start_date, end_date, secret, created_at, updated_at, user_id, detail) FROM stdin;
25	ระบบไฟฟ้า	2011-10-01	2012-09-30	1	2012-01-19 02:23:23.945681	2012-01-19 02:23:23.945681	1	
\.


--
-- Data for Name: schema_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY schema_migrations (version) FROM stdin;
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
\.


--
-- Data for Name: subprojects; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY subprojects (id, project_id, subname, start_date, end_date, created_at, updated_at, status, user_id, detail, building_id) FROM stdin;
36	25	ระบบไฟฟ้า (1 ปี)	2011-10-01	2012-09-30	2012-01-19 02:28:04.943732	2012-01-19 02:28:04.943732	0	\N	1.สำรวจ/ตรวจสอบสายไฟและอุปกรณ์ที่เกี่ยวข้อง โดยสังเกตจากสภาพฉนวนหุ้มสายไฟและบริเวณ จุดเชื่อมต่อสายไฟทุกจุด ในส่วนของอุปกรณ์ควบคุมจะมีบริษัทผู้เชี่ยวชาญเข้ามาตรวจสอบและบำรุงรักษา\r\n2.ตู้ควบคุมไฟฟ้าทุกชั้น ทุกอาคารและมีการตรวจสอบการใช้งาน และบริษัทผู้เชี่ยวชาญเข้ามาบำรุงรักษา\r\nรับผิดชอบโดย ช่างเทคนิคด้านไฟฟ้า\r\n	\N
35	25	ระบบไฟฟ้า(6 เดือน)	2011-10-01	2012-03-31	2012-01-19 02:26:08.383756	2012-01-19 02:28:24.043532	0	\N	1.ตรวจสอบและบำรุงรักษาหม้อแปลง สายล่อฟ้า ระบบตู้ควบคุมไฟฟ้าหลัก/ตู้ควบคุมไฟฟ้ารอง \r\n2.ตู้ควบคุมไฟฟ้าทุกชั้น ทุกอาคารและมีการตรวจสอบการใช้งาน และบริษัทผู้เชี่ยวชาญเข้ามาบำรุงรักษา\r\nรับผิดชอบโดย ช่างเทคนิคด้านไฟฟ้า\r\n\r\n	\N
40	25	เครื่องกำเนิดไฟฟ้าสำรองฉุกเฉิน (ทุกสัปดาห์)	2011-10-01	2011-10-07	2012-01-20 01:23:04.428743	2012-01-20 01:25:30.119149	0	\N	เดินเครื่องนาน 10-15 นาที  ทุกเครื่อง รับผิดชอบโดย หัวหน้าช่างเทคนิคด้านไฟฟ้า	\N
41	25	เครื่องกำเนิดไฟฟ้าสำรองฉุกเฉิน  (ทุก 1 ปี)	2011-10-01	2012-09-30	2012-01-20 01:24:03.981272	2012-01-20 01:25:54.785065	0	\N	บริษัทภายนอกเข้ามาบำรุงรักษา รับผิดชอบโดย หัวหน้าช่างเทคนิคด้านไฟฟ้า	\N
42	25	ระบบไฟฟ้าแสงสว่างฉุกเฉิน (ทุก 3 เดือน)	2011-10-01	2011-12-30	2012-01-20 01:27:38.734341	2012-01-20 01:27:38.734341	0	\N	ตรวจและบำรุงรักษาเช็คเครื่อง/ระบบไฟฟ้าแสงสว่างฉุกเฉิน  รับผิดชอบโดย ช่างเทคนิค ด้านไฟฟ้า  	\N
43	25	ระบบไฟฟ้าแสงสว่างฉุกเฉิน (ทุก 6 เดือน)	2011-10-01	2012-03-30	2012-01-20 01:28:55.036736	2012-01-20 01:28:55.036736	0	\N	ทำความสะอาดเครื่องและหลอดไฟ  รับผิดชอบโดย ช่างเทคนิคด้านไฟฟ้า    	\N
44	25	ระบบไฟฟ้าสำรอง UPS (ทุกสัปดาห์)	2011-10-01	2011-10-07	2012-01-20 01:31:03.683746	2012-01-20 01:31:03.683746	0	\N	ทดสอบ และบำรุงรักษา ตรวจชุดควบคุมการทำงาน ตรวจสอบแรงดันกระแสความถี่ไฟฟ้า ตรวจสอบแบตเตอรี่การทำงานชุดระบายความร้อน โดย บริษัทเอกชนที่ติดตั้งระบบฯ  \r\nรับผิดชอบโดย ช่างเทคนิค ด้านไฟฟ้า      \r\n	\N
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY users (id, username, email, password_hash, password_salt, created_at, updated_at, fname, lname, admin, building_id) FROM stdin;
1	admin	\N	$2a$10$JbdlkgKI0WjfcZ6WTRw.yOreDyPdwj51pg1dGzvJF7RS04wEcARHi	$2a$10$JbdlkgKI0WjfcZ6WTRw.yO	2011-12-06 07:22:56.564621	2011-12-22 02:25:42.79564	-	-	1	\N
\.


--
-- Name: buildings_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY buildings
    ADD CONSTRAINT buildings_pkey PRIMARY KEY (id);


--
-- Name: comment_projects_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY comment_projects
    ADD CONSTRAINT comment_projects_pkey PRIMARY KEY (id);


--
-- Name: comment_subprojects_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY comment_subprojects
    ADD CONSTRAINT comment_subprojects_pkey PRIMARY KEY (id);


--
-- Name: projects_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY projects
    ADD CONSTRAINT projects_pkey PRIMARY KEY (id);


--
-- Name: subprojects_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY subprojects
    ADD CONSTRAINT subprojects_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: unique_schema_migrations; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE UNIQUE INDEX unique_schema_migrations ON schema_migrations USING btree (version);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

